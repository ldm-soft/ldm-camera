(this.webpackJsonphandpose=this.webpackJsonphandpose||[]).push([[0],{250:function(e,t,n){e.exports=n.p+"static/media/transport.56531d97.mp3"},251:function(e,t,n){e.exports=n.p+"static/media/person.d5b99dce.mp3"},253:function(e,t,n){e.exports=n(282)},258:function(e,t,n){},264:function(e,t){},265:function(e,t){},273:function(e,t){},276:function(e,t){},277:function(e,t){},278:function(e,t,n){},282:function(e,t,n){"use strict";n.r(t);var a=n(40),c=n.n(a),r=n(227),i=n.n(r),o=(n(258),n(5)),s=n.n(o),u=n(12),l=n(8),d=(n(281),n(252)),f=n(246),m=n.n(f),p=(n(278),function(e,t){e.forEach((function(e,n){var a=Object(l.a)(e.bbox,4),c=a[0],r=a[1],i=a[2],o=a[3],s="";switch(e.class){case"person":s="Con ng\u01b0\u1eddi";break;case"bicycle":s="Xe \u0111\u1ea1p";break;case"car":s="\xd4t\xf4";break;case"motorcycle":s="Xe m\xe1y"}var u="[".concat(s,"]"),d=Math.floor(16777215*Math.random()).toString(16);t.strokeStyle="#"+d,t.font="18px Arial",t.beginPath(),t.fillStyle="#"+d,t.fillText(u,c,r),t.rect(c,r,i,o),t.stroke()}))}),h=n(247),v=n(250),g=n.n(v),b=n(251),E=n.n(b);var x=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useState)(0),r=Object(l.a)(n,2),i=r[0],o=r[1],f=Object(a.useState)(0),v=Object(l.a)(f,2),b=v[0],x=v[1],y=new Audio(g.a),O=new Audio(E.a),j=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a();case 2:t=e.sent,console.log("Handpose model loaded."),setInterval((function(){w(t)}),10);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.play();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var n=Object(u.a)(s.a.mark((function n(a){var c,r,i,u,l,d,f,m;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"===typeof e.current||null===e.current||4!==e.current.video.readyState){n.next=21;break}return c=e.current.video,r=e.current.video.videoWidth,i=e.current.video.videoHeight,e.current.video.width=r,e.current.video.height=i,t.current.width=r,t.current.height=i,n.next=10,a.detect(c,1e3);case 10:u=n.sent,l=[],d=0,f=0,Object.values(u).forEach((function(e){"person"!==e.class&&"bicycle"!==e.class&&"car"!==e.class&&"motorcycle"!==e.class||("person"===e.class?d++:f++,l.push(e))})),o(d),x(f),m=t.current.getContext("2d"),p(l,m),d>0&&k(O),f>0&&k(y);case 21:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();Object(a.useEffect)((function(){j()}),[]),Object(a.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){!function(){var e;(null===(e=navigator.mediaDevices)||void 0===e?void 0:e.enumerateDevices)?navigator.mediaDevices.enumerateDevices().then((function(e){var t=[];e.forEach((function(e){"videoinput"===e.kind&&t.push(e)})),R(t),D(e[B].deviceId)})).catch((function(e){console.error("".concat(e.name,": ").concat(e.message))})):console.log("enumerateDevices() kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3.")}()}))}),[]);var S=c.a.useState({}),A=Object(l.a)(S,2),C=A[0],D=A[1],N=c.a.useState([]),I=Object(l.a)(N,2),M=I[0],R=I[1],L=c.a.useState(0),z=Object(l.a)(L,2),B=z[0],H=z[1];return c.a.createElement("div",{className:"App"},c.a.createElement(h.a,null,c.a.createElement("meta",{charSet:"utf-8"}),c.a.createElement("title",null,"LDM SOFT"),c.a.createElement("meta",{name:"description",content:"camera-ai"}),c.a.createElement("link",{rel:"icon",type:"image/png",href:"./icon/logo.png"})),c.a.createElement("header",{className:"App-header"},c.a.createElement("div",{className:"camera-info"},"Camera: ",B+1," of ",M.length),c.a.createElement("div",{className:"person ".concat(i>0?"alert-red":"")},"S\u1ed1 ng\u01b0\u1eddi: ",i),c.a.createElement("div",{className:"transport ".concat(b>0?"alert-red":"")},"Ph\u01b0\u01a1ng ti\u1ec7n: ",b),M.length>1&&c.a.createElement("button",{className:"devicesButton",onClick:function(){var e=B;B<M.length-1?e++:e=0,H(e),D(M[e].deviceId)}},"Change Camera"),c.a.createElement(m.a,{ref:e,muted:!0,videoConstraints:{deviceId:C},style:{position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,textAlign:"center",zindex:9,width:"100%",height:"100%"}}),c.a.createElement("canvas",{ref:t,style:{position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,textAlign:"center",zindex:8,width:"100%",height:"100%"}})))};i.a.render(c.a.createElement(x,null),document.getElementById("root"))}},[[253,1,2]]]);
//# sourceMappingURL=main.7f2944c7.chunk.js.map